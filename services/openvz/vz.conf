# vz.conf(5)
# vzctl(8)
#
# Глобальный конфигурационный файл системы контейнерной виртуализации OpenVZ.

# NB: пробелы вокруг знака равенства не допускаются, значения рекомендуется
# указывать в двойных кавычках. VE - Virtual Environment - синоним слова
# "контейнер" в терминологии OpenVZ.

# ------------------------------------------------------------------------------
# ОСНОВНЫЕ ПАРАМЕТРЫ

# Разрешить инициализацию системы OpenVZ и ее компонентов при старте хоста?
# Данная директива предназначена для сценария /etc/init.d/vz. В случае, если
# здесь установлено значение 'no' то тогда OpenVZ не будет запускаться на данном
# хосте и как следствие невозможно будет запустить ни одного VE.
VIRTUOZZO="yes"

# Каталог с шаблонами VE:
TEMPLATE=/vz/template

# Конфигурация user namespaces - определяет базу от которой отсчитываются
# uid и gid используемые внутри VE, При указании здесь значения "0" - VE будут
# работать с правами превилигированного пользователя.
LOCAL_UID=100000
LOCAL_GID=100000

# Расположение директории с файлами блокировок:
LOCKDIR="/vz/lock"

# Каталог для хранения чекпоинтов. Чекпойнт - это "снимок" состояния VE в
# определенный момент времени. Чекпоинты хранятся в отдельных файлах.
# Кроме того в "$DUMPDIR/$VEID" фактически хранятся все файлы VE.
DUMPDIR="/vz/dump"

# Количество т.н. cpuunits выделяемых процессам хостовой системы. Значение
# cpuunits определяет "вес" процессов для для планировщика
# процессов. Максимальное значение - 500000, минимальное - 8.  См. детальную
# инфрмацию на странице https://openvz.org/Resource_shortage
VE0CPUUNITS="1000"

# Предпочитаемый режим останова VE: suspend или stop
VE_STOP_MODE="suspend"

# Точка монитрования корневой ФС запущенных VE.
# Обязательно указание "$VEID".
VE_ROOT="/vz/root/$VEID"

# Директория используемая для хранения файлов VE.
# Обязательно указание "$VEID".
VE_PRIVATE="/vz/dump/$VEID"

# Имя конфигурационного файла /etc/vz/conf/ve-$CONFIGFILE.conf-sample, который
# будет использоваться в качестве дефолтного при создании VE:
CONFIGFILE="vswap-custom"

# Имя шаблона который будет использоваться по умолчанию при создании VE:
DEF_OSTEMPLATE="centos-6-x64-custom"

# Копировать параметры поиска в DNS из хостовго reslov.conf(5) в VE:
NAMESERVER="inherit"
SEARCHDOMAIN="inherit"


# ------------------------------------------------------------------------------
# ВЕДЕНИЕ ЖУРНАЛОВ И ОТЛАДКА

# Включить ведение журналов?
LOGGING="yes"

# Расположение файла журнала:
LOGFILE="/var/log/vzctl.log"

# Уровень детализации журнала. Чем выше значение - тем выше детализация,
# минимальный уровень - "-1" - отображение только ошибок.
LOG_LEVEL="-1"

# Уровень детализации вывода vzctl(8).
VERBOSE="0"


# ------------------------------------------------------------------------------
# МОДУЛИ ЯДРА

# Отключить загрузку любых модулей ядра?
# MODULES_DISABLED="yes"

# Загружать модуль vzwdog?
VZWDOG="no"

# Список модулей IPv4 iptables, которые задействуются внутри VE по умолчанию
IPTABLES="ip_tables iptable_filter iptable_mangle iptable_nat ipt_limit ipt_multiport ipt_tos ipt_REJECT ipt_TCPMSS ipt_tcpmss ipt_ttl ipt_length ip_conntrack ipt_conntrack ipt_state ipt_owner"

# Аналогично директиве IPTABLES, но применяется для ip6tables
IP6TABLES="ip6_tables ip6table_filter ip6table_mangle ip6t_REJECT"

# Список модулей IPv4 iptables которые будут загружены сценарием /etc/init.d/vz
IPTABLES_MODULES="$IPTABLES"


# ------------------------------------------------------------------------------
# ДИСКОВЫЕ КВОТЫ

# Включить поддержку дисковых квот?
DISK_QUOTA="yes"

# Разрешить загрузку VE без ре-инициализации квот?
VZFASTBOOT="no"


# ------------------------------------------------------------------------------
# ДОСТУП К СЕТИ

# Определяет, для каких сетевых интерфейсов будут добавляться/удаляться записи
# ARP. Значение "detect" включает автоматическое определение списка интерфейсов.
NEIGHBOUR_DEVS="detect"

# В случае, если в сети присутсвует хост с таким же IP как и у запускаемого VE:
# "yes" - vzctl(8) не запустит VE и завершится с ошибкой,
# "no" - vzctl(8) запустит VE и выведет предупреждение.
ERROR_ON_ARPFAIL="yes"

# Включить поддержку IPv6?
IPV6="no"

# В случае, если данный параметр отсутсвует, сценарий /etc/init.d/vz выполнит
# настройку переменных sysctl, для корректной работы OpenVZ и поместит в этот
# файл (vz.conf(5)) этот параметр как: SKIP_SYSCTL_SETUP=yes.
SKIP_SYSCTL_SETUP="yes"
